(this["webpackJsonptravel-advisor"]=this["webpackJsonptravel-advisor"]||[]).push([[0],{117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(7),r=a.n(s),i=a(11),l=a(76),o=a(67),j=a.n(o),u=(a(92),a(2));var d=function(e){var t=e.place;return Object(u.jsxs)("div",{className:"pointer markerContainer",children:[Object(u.jsxs)("div",{className:"markername",children:[Object(u.jsx)("img",{className:"imgmap",src:t.photo?t.photo.images.large.url:"https://www.foodserviceandhospitality.com/wp-content/uploads/2016/09/Restaurant-Placeholder-001.jpg"}),Object(u.jsx)("p",{className:"markertext",children:t.name})]}),Object(u.jsx)(j.a,{color:"secondary",fontSize:"large"})]})},b=function(e){var t=e.handlechildclick,a=e.coords,n=e.setCoords,c=e.setBounds,s=e.places;return console.log(a),Object(u.jsx)("div",{className:"mapcontainer",children:Object(u.jsx)(l.a,{bootstrapURLKeys:{key:"AIzaSyDsHoDq_LYAhvHhOuGa8vtXEHpqf0yiiQM"},defaultCenter:a,center:a,defaultZoom:10,margin:[50,50,50,50],options:{disableDefaultUI:!0,zoomControl:!0},onChange:function(e){console.log("lat ",e.center.lat),console.log("lng ",e.center.lng),n({lat:e.center.lat,lng:e.center.lng}),c({ne:e.marginBounds.ne,sw:e.marginBounds.sw})},onChildClick:function(e){return t(Number(e))},children:s?s.length&&s.map((function(e,t){return Object(u.jsx)(d,{lat:Number(e.latitude),lng:Number(e.longitude),place:e},t)})):""})})},h=a(154),O=a(149),p=a(150),m=a(151),v=a(152),x=a(160),f=a(153),g=a(72),y=a.n(g),k=a(73),N=a.n(k);var S=function(e){var t=e.deltype,a=e.index,c=e.handledelete,s=e.type,r=e.hotels,l=e.restuarants,o=e.attractions,j=e.onplaceselect,d=e.item,b=e.buttondisabled,h=Object(n.useState)(!1),g=Object(i.a)(h,2),k=g[0],S=g[1];return Object(n.useEffect)((function(){b||("hotels"==s?d.name in r&&S(!0):"restaurants"==s?d.name in l&&S(!0):d.name in o&&S(!0))}),[]),Object(u.jsxs)(O.a,{children:[Object(u.jsx)(p.a,{style:{height:300},image:d.photo?d.photo.images.large.url:"https://www.foodserviceandhospitality.com/wp-content/uploads/2016/09/Restaurant-Placeholder-001.jpg",title:d.name}),Object(u.jsxs)(m.a,{children:[Object(u.jsx)(v.a,{variant:"h5",children:d.name}),Object(u.jsxs)(x.a,{display:"flex",justifyContent:"space-between",children:[Object(u.jsx)(v.a,{component:"legend",children:"Price"}),Object(u.jsx)(v.a,{gutterBottom:!0,variant:"subtitle1",children:d.price})]}),Object(u.jsx)(x.a,{display:"flex",justifyContent:"space-between",children:Object(u.jsx)(v.a,{gutterBottom:!0,variant:"subtitle1",children:d.ranking})}),Object(u.jsxs)(x.a,{display:"flex",justifyContent:"space-between",children:[Object(u.jsx)(v.a,{component:"legend",children:"Rating"}),Object(u.jsx)(v.a,{gutterBottom:!0,variant:"subtitle1",children:function(e){for(var t=Number(e),a=parseInt(e),n=t-a,c=[],s=0;s<a;s++)c.push(Object(u.jsx)(y.a,{style:{fill:"#FFD700"}}));return n>0&&c.push(Object(u.jsx)(N.a,{style:{fill:"#FFD700"}})),c}(d.rating)})]}),b?Object(u.jsx)(f.a,{onClick:function(){return c(a,t,d.name)},variant:"contained",color:"secondary",children:" Delete "}):Object(u.jsx)(f.a,{onClick:function(){S(!k),j(d)},variant:"contained",color:k?"primary":"secondary",children:k?"Remove":"Select"})]})]})};a(96);var C=function(e){var t=e.type,a=e.hotels,n=e.restuarants,c=e.attractions,s=e.onplaceselect,r=e.refprops,i=e.isloading,l=e.places;return i?Object(u.jsx)("div",{className:"center",children:Object(u.jsx)(h.a,{size:"5rem"})}):l?l.map((function(e,i){return Object(u.jsx)("div",{ref:r[i],children:Object(u.jsx)(S,{type:t,hotels:a,restuarants:n,attractions:c,onplaceselect:s,item:e})})})):null},w=a(55),A=a.n(w),R=a(74),B=a(75),E=a.n(B),H=function(){var e=Object(R.a)(A.a.mark((function e(t,a,n){var c,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("https://travel-advisor.p.rapidapi.com/".concat(n,"/list-in-boundary"),{params:{bl_latitude:t.lat,bl_longitude:t.lng,tr_longitude:a.lng,tr_latitude:a.lat},headers:{"x-rapidapi-key":"f933c41468mshd6734e8117a14a7p10901ejsn1a47b8a86051","x-rapidapi-host":"travel-advisor.p.rapidapi.com"}});case 3:return c=e.sent,s=c.data.data,e.abrupt("return",s);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,n){return e.apply(this,arguments)}}(),D=a(155),I=a(161),P=a(158),T=a(162);a(117);var _=function(e){var t=e.onplaceselect,a=e.type,c=e.hotels,s=e.restuarants,r=e.attractions,l=e.goback,o=Object(n.useState)([]),j=Object(i.a)(o,2),d=j[0],b=j[1],h=Object(n.useState)([]),O=Object(i.a)(h,2),p=O[0],m=O[1],v=Object(n.useState)([]),x=Object(i.a)(v,2),g=x[0],y=x[1],k=Object(n.useState)(!1),N=Object(i.a)(k,2),C=N[0],w=N[1],A=function(e,t,a){if(console.log(t),"hotels"==t){var n=d;a in c&&delete c[a],n.splice(e,1),b(n)}else if("restaurants"==t){var i=p;a in s&&delete s[a],i.splice(e,1),m(i)}else{var l=g;a in r&&delete r[a],l.splice(e,1),y(l)}w(!C)};return Object(n.useEffect)((function(){b(Object.entries(c)),m(Object.entries(s)),y(Object.entries(r))}),[]),console.log("rendered"),Object(u.jsxs)("div",{className:"checkout-container",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{className:"checkout-title",children:"Hotels"}),Object(u.jsx)("div",{className:"checkout-items",children:0!=d.length?d.map((function(e,n){return Object(u.jsx)("div",{className:"checkout-item",children:Object(u.jsx)(S,{deltype:"hotels",index:n,handledelete:A,onplaceselect:t,type:a,hotels:c,restuarants:s,attractions:r,item:e[1],buttondisabled:!0})})})):Object(u.jsx)("p",{className:"noitems",children:"No Hotels Selected"})})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{className:"checkout-title",children:"Restuarants"}),Object(u.jsx)("div",{className:"checkout-items",children:0!=p.length?p.map((function(e,n){return Object(u.jsx)("div",{className:"checkout-item",children:Object(u.jsx)(S,{deltype:"restaurants",index:n,handledelete:A,onplaceselect:t,type:a,hotels:c,restuarants:s,attractions:r,item:e[1],buttondisabled:!0})})})):Object(u.jsx)("p",{className:"noitems",children:"No Restuarants Selected"})})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{className:"checkout-title",children:"Attractions"}),Object(u.jsx)("div",{className:"checkout-items",children:0!=g.length?g.map((function(e,n){return Object(u.jsx)("div",{className:"checkout-item",children:Object(u.jsx)(S,{deltype:"attractions",index:n,handledelete:A,onplaceselect:t,type:a,hotels:c,restuarants:s,attractions:r,item:e[1],buttondisabled:!0})})})):Object(u.jsx)("p",{className:"noitems",children:"No Attractions Selected"})})]}),Object(u.jsx)("div",{className:"checkout-items check-btn",children:Object(u.jsx)(f.a,{onClick:l,variant:"contained",color:"primary",children:"Go Back"})})]})},z=(a(118),{}),F={},U={};var Y=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(null),l=Object(i.a)(r,2),o=l[0],j=l[1],d=Object(n.useState)([]),h=Object(i.a)(d,2),O=h[0],p=h[1],m=Object(n.useState)("hotels"),x=Object(i.a)(m,2),g=x[0],y=x[1],k=Object(n.useState)(""),N=Object(i.a)(k,2),S=N[0],w=N[1],A=Object(n.useState)([]),R=Object(i.a)(A,2),B=R[0],E=R[1],Y=Object(n.useState)(!1),q=Object(i.a)(Y,2),G=q[0],J=q[1],L=Object(n.useState)(!1),M=Object(i.a)(L,2),K=M[0],Q=M[1],V=Object(n.useState)([]),W=Object(i.a)(V,2),X=W[0],Z=W[1],$=function(e){"hotels"==g?e.name in z?delete z[e.name]:z[e.name]=e:"restaurants"==g?e.name in F?delete F[e.name]:F[e.name]=e:e.name in U?delete U[e.name]:U[e.name]=e};return Object(n.useEffect)((function(){console.log("called called"),navigator.geolocation&&(console.log("called"),navigator.geolocation.getCurrentPosition((function(e){s({lat:e.coords.latitude,lng:e.coords.longitude})})))}),[]),Object(n.useEffect)((function(e){Z((function(e){return Array(B.length).fill().map((function(t,a){return e[a]||c.a.createRef()}))}))}),[B]),Object(n.useEffect)((function(){if(O){var e=O.filter((function(e){return Number(e.rating)>S}));E(e)}}),[O,S]),Object(n.useEffect)((function(){o&&(p(null),J(!0),H(o.sw,o.ne,g).then((function(e){console.log(e),p(e),J(!1)})))}),[o,g]),K?Object(u.jsx)(_,{goback:function(){return Q(!1)},onplaceselect:$,type:g,hotels:z,restuarants:F,attractions:U}):Object(u.jsxs)("div",{className:"dash-container",children:[Object(u.jsxs)("div",{className:"dash-list",children:[Object(u.jsxs)(v.a,{variant:"h5",color:"primary",children:[" Select ",g[0].toUpperCase()+g.slice(1)," Near You"]}),Object(u.jsxs)("div",{className:"check",children:[Object(u.jsxs)(D.a,{children:[Object(u.jsx)(I.a,{id:"type",children:"Type"}),Object(u.jsxs)(P.a,{id:"type",value:g,onChange:function(e){return y(e.target.value)},children:[Object(u.jsx)(T.a,{value:"restaurants",children:"Restaurants"}),Object(u.jsx)(T.a,{value:"hotels",children:"Hotels"}),Object(u.jsx)(T.a,{value:"attractions",children:"Attractions"})]})]}),Object(u.jsxs)(D.a,{children:[Object(u.jsx)(I.a,{id:"rating",children:"Rating"}),Object(u.jsxs)(P.a,{id:"rating",value:S,onChange:function(e){return w(e.target.value)},children:[Object(u.jsx)(T.a,{value:"",children:"All"}),Object(u.jsx)(T.a,{value:"3",children:"Above 3.0"}),Object(u.jsx)(T.a,{value:"4",children:"Above 4.0"}),Object(u.jsx)(T.a,{value:"4.5",children:"Above 4.5"})]})]}),Object(u.jsx)(f.a,{onClick:function(){return Q(!0)},variant:"contained",color:"primary",children:"Checkout"})]}),Object(u.jsx)(C,{type:g,hotels:z,restuarants:F,attractions:U,onplaceselect:$,refprops:X,isloading:G,places:B.length?B:O})]}),Object(u.jsx)("div",{className:"dash-map",children:Object(u.jsx)(b,{setBounds:j,setCoords:s,coords:a,places:B.length?B:O,handlechildclick:function(e){X[e].current.scrollIntoView({behavior:"smooth",block:"start"})}})})]})};a(119);var q=function(e){var t=e.setcity;return Object(u.jsxs)("div",{className:"main",children:[Object(u.jsx)(v.a,{variant:"h4",color:"primary",children:" Welcome to Travel Advisor"}),Object(u.jsx)(v.a,{gutterBottom:!0,variant:"subtitle1",children:"Plan your Travel Itenary Today "}),Object(u.jsx)(f.a,{onClick:function(){t(!0)},variant:"contained",color:"primary",children:"Search"}),Object(u.jsx)(v.a,{variant:"h5",children:" Search Hotels, Restuarants & Attractions Near You "})]})},G=a(156),J=a(157);a(120);var L=function(e){var t=e.setcity;return Object(u.jsx)(G.a,{position:"static",children:Object(u.jsx)(J.a,{children:Object(u.jsx)(v.a,{onClick:function(){return t(!1)},className:"pointer",variant:"h5",children:"Travel Advisor"})})})};a(121);var M=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)(L,{setcity:c}),a?Object(u.jsx)(Y,{city:a}):Object(u.jsx)(q,{setcity:c})]})};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(M,{})}),document.getElementById("root"))},92:function(e,t,a){},96:function(e,t,a){}},[[122,1,2]]]);
//# sourceMappingURL=main.a00e539b.chunk.js.map